@model VmProfile
@{
    ViewData["Title"] = "Profile";
}

<section class="py-2 bg-gray-2" data-animated-id="1">
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb breadcrumb-site py-0 d-flex justify-content-center">
                <li class="breadcrumb-item">
                    <a class="text-decoration-none text-body" asp-action="Index" asp-controller="Home">Home</a>
                </li>
                <li class="breadcrumb-item active pl-0 d-flex align-items-center" aria-current="page">
                    Profile
                </li>
            </ol>
        </nav>
    </div>
</section>



<!--Profile-->
<section class="profile p-3 p-md-5">

    <div class="container">
        <div class="main-body">

            <div class="row gutters-sm">
                <div class="col-md-4 mb-3" style="margin-top:70px">
                    <div class="card side">
                        <div class="card-body">
                            <div class="d-flex flex-column align-items-center text-center mt-3">
                                @if (Model.Image != null)
                                {
                                    <img src="~/Uploads/Images/User/@Model.Image" alt="Admin" class="rounded-circle" width="150">
                                }
                                else
                                {
                                    <img src="https://www.pngall.com/wp-content/uploads/12/Avatar-Profile-Vector-PNG-Clipart.png" alt="Admin" class="rounded-circle" width="150">
                                }
                                <div class="mt-3">
                                    <h4>@Model.Name @Model.Surname</h4>
                                    <p class="text-secondary">@Model.Email</p>
                                </div>
                                <div class="tab-pane fade" id="account-orders" role="tabpanel" aria-labelledby="account-orders-tab">
                                    <div class="myaccount-orders">
                                        <h4 class="small-title">MY ORDERS</h4>
                                        <div class="table-responsive">
                                            <table class="table table-bordered table-hover">
                                                <tbody>
                                                    <tr class="make-it-unvisible">
                                                        <th>ORDER</th>
                                                        <th>DATE</th>
                                                        <th>STATUS</th>
                                                        <th>TOTAL</th>
                                                        <th>Detail</th>
                                                        <th>Delete</th>
                                                    </tr>
                                                    @*@{
                                                        @foreach (var item in Model.Users?.Sales)
                                                        {
                                                            <tr>
                                                                <td><a class="account-order-id" href="#">@item.InvoiceNo</a></td>
                                                                <td>@item.Date.ToString("MMM d yyyy")</td>
                                                                <td>On Hold</td>
                                                                <td>
                                                                    @{
                                                                        decimal totalPr = 0;
                                                                        var prCounts = 0;
                                                                        foreach (var item2 in item.SaleItems)
                                                                        {
                                                                            totalPr += (item2.Price * item2.Quantity);
                                                                            prCounts += item2.Quantity;
                                                                        }
                                                                    }
                                                                    @totalPr.ToString("C2") for @prCounts @(prCounts>1?" items":" item")
                                                                </td>
                                                                <td>
                                                                    <a asp-controller="Account" asp-action="Order" asp-route-Id="@item.Id" class="btn btn-dark"><span>View</span></a>
                                                                </td>
                                                                <td>
                                                                    <a data-tippy="Delete" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder" class="btn-sm btn btn-outline-danger w-100" asp-route-id="@item.Id" asp-controller="Account" asp-action="HideOrder" onclick="return confirm('Are you sure?')"><i class="fal fa-trash-alt"></i></a>
                                                                </td>
                                                            </tr>
                                                        }
                                                    }*@

                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Name</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    @Model.Name
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Surname</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    @Model.Surname
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Email</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    @Model.Email
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Phone</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    @Model.Phone
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">ZipCode</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    @Model.Zipcode
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">State</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    @Model.State
                                </div>
                            </div>
                            <hr>
                            
                           
                            <div class="row">
                                <div class="col-sm-12 p-2 pt-3">
                                    <a class="animate-button close" asp-controller="account" asp-action="updateprofile">Edit</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row gutters-sm">

                    </div>

                </div>
            </div>

        </div>
    </div>

</section>

